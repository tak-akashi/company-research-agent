"""IRテンプレート生成のプロンプト定義."""

# IRページURL発見プロンプト
IR_PAGE_DISCOVERY_PROMPT = """あなたは企業のIRページを特定する専門家です。
以下の企業のIRページURLを特定してください。

## 企業情報
- 企業名: {company_name}
- 証券コード: {sec_code}

## タスク
この企業の公式IRページ（投資家向け情報ページ）のURLを特定してください。
一般的なパターン:
- https://www.{domain}/ir/
- https://www.{domain}/investor/
- https://ir.{domain}/

## 出力
IRページのURLを1つだけ出力してください。確実に存在するURLを出力してください。
見つからない場合は空文字を返してください。
"""

# IRページ構造解析プロンプト
IR_PAGE_ANALYSIS_PROMPT = """あなたは企業IRページの構造を解析する専門家です。
以下のHTMLコンテンツを解析し、IR資料（PDF）へのリンクを抽出するための設定を生成してください。

## ページ情報
- URL: {url}
- 企業名: {company_name}

## HTMLコンテンツ
```html
{html_content}
```

## タスク
このページからIR資料（主にPDF）へのリンクを抽出するための設定を生成してください。

## カテゴリ定義（重要：正確に分類すること）

### 1. 決算関連 (earnings)
**定義**: 会社の業績・財務状況を報告する資料
**該当するもの**:
- 決算短信（第1四半期、第2四半期、第3四半期、通期）
- 決算説明会資料、決算補足資料
- 有価証券報告書、四半期報告書
- 月次売上レポート、月次事業進捗レポート
- 業績ハイライト、ファクトシート

### 2. 適時開示 (disclosures)
**定義**: 証券取引所への開示義務がある重要情報
**該当するもの**:
- 業績予想の修正
- 配当予想の修正
- 自己株式の取得・処分
- M&A、資本業務提携
- 役員の異動

### 3. 事業ニュース (news)
**定義**: 事業活動に関するプレスリリース・ニュース
**該当するもの**:
- 新製品・新サービスの発表
- 大型受注、契約締結
- 新規事業への参入

## 出力する情報
各セクションについて以下を特定してください：

1. **url**: セクションのURL（現在のページから相対パス、または絶対URL）
2. **selector**: PDF資料へのリンクを抽出するCSSセレクター
   - できるだけ具体的なセレクターを使用
   - 例: `div.ir-list a[href$='.pdf']`, `ul.documents li a`
3. **link_pattern**: リンクURLをフィルタリングする正規表現（必要な場合のみ）
4. **date_selector**: 公開日を抽出するセレクター（近くに日付がある場合）
5. **date_format**: 日付フォーマット（例: `%Y年%m月%d日`, `%Y/%m/%d`）

## 注意事項
- 実際にPDFへのリンクが存在するセクションのみ出力
- 同じ資料が複数カテゴリに重複しないよう、セレクターを適切に設定
- JavaScriptで動的に読み込まれるコンテンツは検出できない場合があります
"""

# IRページナビゲーション解析プロンプト
IR_NAVIGATION_ANALYSIS_PROMPT = """あなたは企業IRページのナビゲーション構造を解析する専門家です。
以下のHTMLコンテンツから、IR関連のサブページへのリンクを特定してください。

## ページ情報
- URL: {url}
- 企業名: {company_name}

## HTMLコンテンツ
```html
{html_content}
```

## タスク
このページのナビゲーションやメニューから、以下のカテゴリに該当するサブページへのリンクを特定してください：

1. **earnings**: 決算関連ページ
   - キーワード: 決算、financial results、業績、earnings、IR資料
2. **news**: ニュース・プレスリリースページ
   - キーワード: ニュース、news、press release、お知らせ
3. **disclosures**: 適時開示ページ
   - キーワード: 適時開示、disclosure、有価証券報告書、securities report

## 出力
各カテゴリについて、該当するページのURLを出力してください。
見つからないカテゴリは空のリストで構いません。
"""
